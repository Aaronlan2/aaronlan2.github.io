<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>网络拼音缩写词典</title>
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <div class="glass-container">
      <h1>网络拼音缩写词典</h1>

      <!-- 2. 选项卡 -->
      <div class="tabs">
        <button class="tab-button active" data-tab="word">单词查询</button>
        <button class="tab-button" data-tab="sentence">整句查询</button>
      </div>

      <!-- 单词查询 Tab 内容 -->
      <div id="wordTab" class="tab-content active">
        <div class="input-section">
          <div class="input-wrapper">
            <input
              type="text"
              id="inputBox"
              class="main-input"
              placeholder="请输入拼音缩写"
              inputmode="verbatim"
              autocomplete="off"
            />
          </div>
          <div class="button-container">
            <button id="searchButton" class="main-button">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                fill="currentColor"
                width="18"
                height="18"
              >
                <path
                  d="M11 2C15.968 2 20 6.032 20 11C20 15.968 15.968 20 11 20C6.032 20 2 15.968 2 11C2 6.032 6.032 2 11 2ZM11 18C14.8675 18 18 14.8675 18 11C18 7.1325 14.8675 4 11 4C7.1325 4 4 7.1325 4 11C4 14.8675 7.1325 18 11 18ZM19.4853 18.0711L22.3137 20.8995L20.8995 22.3137L18.0711 19.4853L19.4853 18.0711Z"
                ></path>
              </svg>
            </button>
          </div>
        </div>

        <div id="resultSection">
          <div class="placeholder-text">查询结果将显示在这里...</div>
        </div>

        <div class="add-button-container">
          <button id="addButton" title="补充释义">+</button>
        </div>
      </div>

      <!-- 整句查询 Tab 内容 -->
      <div id="sentenceTab" class="tab-content">
        <div class="input-section">
          <textarea
            id="sentenceInput"
            class="main-input"
            placeholder="请输入包含缩写的句子"
            autocomplete="off"
          ></textarea>
          <div class="button-container">
            <!-- 添加AI模型选择自定义弹窗 -->
            <div
              class="model-selector-container tooltip"
              data-tooltip="选择AI翻译模型"
            >
              <button id="modelSelectorButton" class="model-selector-button">
                <span id="selectedModelText">glm-4.5-flash</span>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="12"
                  height="12"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <polyline points="6 9 12 15 18 9"></polyline>
                </svg>
              </button>
              <input type="hidden" id="selectedModel" value="glm-4.5-flash" />
            </div>

            <button
              id="aiTranslateButton"
              class="ai-translate-button tooltip"
              data-tooltip="AI翻译整句内容"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                fill="currentColor"
                width="18"
                height="18"
              >
                <path
                  d="M4.7134 7.12811L4.46682 7.69379C4.28637 8.10792 3.71357 8.10792 3.53312 7.69379L3.28656 7.12811C2.84706 6.11947 2.05545 5.31641 1.06767 4.87708L0.308047 4.53922C-0.102682 4.35653 -0.102682 3.75881 0.308047 3.57612L1.0252 3.25714C2.03838 2.80651 2.84417 1.97373 3.27612 0.930828L3.52932 0.319534C3.70578 -0.106511 4.29417 -0.106511 4.47063 0.319534L4.72382 0.930828C5.15577 1.97373 5.96158 2.80651 6.9748 3.25714L7.69188 3.57612C8.10271 3.75881 8.10271 4.35653 7.69188 4.53922L6.93228 4.87708C5.94451 5.31641 5.15288 6.11947 4.7134 7.12811ZM3.06361 21.6132C4.08854 15.422 6.31105 1.99658 21 1.99658C19.5042 4.99658 18.5 6.49658 17.5 7.49658L16.5 8.49658L18 9.49658C17 12.4966 14 15.9966 10 16.4966C7.33146 16.8301 5.66421 18.6635 4.99824 21.9966H3C3.02074 21.8722 3.0419 21.7443 3.06361 21.6132Z"
                ></path>
              </svg>
            </button>
            <button
              id="searchButton"
              class="main-button tooltip"
              data-tooltip="查询句子中的缩写词"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                fill="currentColor"
                width="18"
                height="18"
              >
                <path
                  d="M11 2C15.968 2 20 6.032 20 11C20 15.968 15.968 20 11 20C6.032 20 2 15.968 2 11C2 6.032 6.032 2 11 2ZM11 18C14.8675 18 18 14.8675 18 11C18 7.1325 14.8675 4 11 4C7.1325 4 4 7.1325 4 11C4 14.8675 7.1325 18 11 18ZM19.4853 18.0711L22.3137 20.8995L20.8995 22.3137L18.0711 19.4853L19.4853 18.0711Z"
                ></path>
              </svg>
            </button>
          </div>
        </div>
        <div id="sentenceResultSection">
            <div class="placeholder-text">
              输入句子后，查询结果将自动显示在这里...
            </div>
          </div>
      </div>
    </div>

    <!-- 模态框和 Toast 等元素保持不变 -->
    <div id="addModal">
      <div class="modal-content">
        <div class="modal-header">
          <h2 class="modal-title">补充释义</h2>
          <button class="close">&times;</button>
        </div>
        <p id="modalDescription" class="modal-description">
          补充 <strong>s</strong> 的释义，经审核后会整理录入进系统。
        </p>
        <textarea
          id="newDefinitionInput"
          class="main-input"
          placeholder="请输入释义（最多50字）"
          maxlength="50"
          autocomplete="off"
        ></textarea>
        <div class="modal-button-container">
          <button id="submitDefinitionButton" class="main-button">提交</button>
        </div>
      </div>
    </div>

    <div id="toast">
      <svg
        class="toast-icon"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 24 24"
        fill="currentColor"
      >
        <path
          d="M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM17.4571 9.45711L11 15.9142L6.79289 11.7071L8.20711 10.2929L11 13.0858L16.0429 8.04289L17.4571 9.45711Z"
        ></path>
      </svg>
      <span id="toastText">复制成功!</span>
    </div>

    <footer>
      <p>
        本页面API来源：<a
          href="https://lab.magiconch.com/nbnhhsh/"
          target="_blank"
          rel="noopener noreferrer"
          >https://lab.magiconch.com/nbnhhsh/</a
        >
      </p>
      <p>
        原项目地址：<a
          href="https://github.com/itorr/nbnhhsh"
          target="_blank"
          rel="noopener noreferrer"
          >https://github.com/itorr/nbnhhsh</a
        >
      </p>
      <p>本站仅优化界面。</p>
    </footer>
    <div id="modelSelectorModal" class="model-selector-modal">
      <div class="model-selector-content">
        <div class="model-selector-title">选择AI翻译模型</div>
        <div class="model-selector-options">
          <div class="model-option" data-model="glm-4.5-flash">
            GLM 4.5 Flash
          </div>
          <div class="model-option" data-model="deepseek-v3.1-n">
            Deepseek v3.1
          </div>
          <div class="model-option" data-model="mai-ds-r1">Mai-DS-R1</div>
          <div class="model-option" data-model="Qwen3-8B">Qwen3 8B</div>
        </div>
      </div>
    </div>
    <script src="./main.js"></script>
  </body>
</html>
